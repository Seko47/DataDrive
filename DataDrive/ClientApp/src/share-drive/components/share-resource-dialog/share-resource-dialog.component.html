
<div>
  <h1 mat-dialog-title>{{ 'FILES.SHARE_FILE_DIALOG.TITLE' | translate }}</h1>

  <mat-slide-toggle [checked]="shareEveryoneSliderChecked"
                    (change)="toggleResourceSharingByToken($event)">
    {{ 'FILES.SHARE_FILE_DIALOG.TOKEN_SHARING_FORM' | translate }}
  </mat-slide-toggle>

  <div *ngIf="shareEveryoneSliderChecked && shareEveryoneOut">
    <div mat-dialog-content>

      <div class="row col-12">
        <mat-form-field class="col-sm-10 mr-auto">

          <input matInput
                 #tokenInput
                 readonly="readonly"
                 value="{{ shareEveryoneOut?.token }}"
                 placeholder="{{ 'FILES.SHARE_FILE_DIALOG.URL_TO_SHARE' | translate }}" />
        </mat-form-field>
        &nbsp;
        <app-copy-from-input class="col-sm-1 ml-auto"
                             [inputField]="tokenInput"></app-copy-from-input>
      </div>

      <div class="row col-12">
        <qrcode class="ml-auto mr-auto"
                [text]="shareEveryoneOut?.token"></qrcode>
      </div>

      <div class="row col-12">
        <mat-form-field class="col-sm-4 mr-auto">
          <input matInput
                 [matDatepicker]="myDatepicker"
                 [(ngModel)]="shareForEveryoneIn.expirationDateTime"
                 placeholder="{{ 'FILES.SHARE_FILE_DIALOG.EXPIRATION_DATE' | translate }}">
          <mat-datepicker-toggle matSuffix [for]="myDatepicker"></mat-datepicker-toggle>
          <mat-datepicker #myDatepicker></mat-datepicker>
        </mat-form-field>

        <mat-form-field class="col-sm-4 ml-auto mr-auto">
          <input matInput
                 style="width: 100%;"
                 type="number"
                 min="1"
                 [(ngModel)]="shareForEveryoneIn.downloadLimit"
                 placeholder="{{ 'FILES.SHARE_FILE_DIALOG.DOWNLOAD_LIMIT' | translate }}" />
        </mat-form-field>

        <mat-form-field class="col-sm-4 ml-auto">
          <input matInput
                 type="password"
                 [(ngModel)]="shareForEveryoneIn.password"
                 placeholder="{{ 'FILES.SHARE_FILE_DIALOG.PASSWORD' | translate }}" />
        </mat-form-field>
      </div>
    </div>

    <div mat-dialog-actions>

      <button mat-button
              type="submit"
              class="mr-auto ml-auto"
              (click)="saveShareForEveryone()">
        {{ 'DIALOG.SAVE_BUTTON' | translate }}
      </button>
    </div>
  </div>
  <br />
  <hr />
  <div mat-dialog-content>

    
  </div>

  <div mat-dialog-actions>

    <button mat-button
            mat-dialog-close>
      {{ 'DIALOG.CANCEL_BUTTON' | translate }}
    </button>
  </div>
</div>
